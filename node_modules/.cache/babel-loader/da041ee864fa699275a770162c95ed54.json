{"ast":null,"code":"var _jsxFileName = \"/Users/vivi/Documents/1082/simple_web3test/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Web3 from 'web3';\nimport TodoListContract from './build/contracts/TodoList.json';\nimport SproutContract from './build/contracts/Sprout.json';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      try {\n        const web3 = new Web3(Web3.givenProvider || 'ws://localhost:8545');\n        const accounts = await web3.eth.getAccounts();\n        const networkId = await web3.eth.net.getId();\n        const deployNetwork = TodoListContract.networks[networkId];\n        const instance = new web3.eth.Contract(TodoListContract.abi, deployNetwork.address);\n        const deployNetwork2 = SproutContract.networks[networkId];\n        const instance2 = new web3.eth.Contract(SproutContract.abi, deployNetwork2.address);\n        this.setState({\n          web3: web3,\n          accounts: accounts,\n          contract: instance,\n          contract: instance2\n        });\n      } catch (error) {\n        alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n        console.error(error);\n      }\n    };\n\n    this.state = {\n      web3: null,\n      accounts: null,\n      contract: null,\n      contract2: null\n    };\n    this.handleClick = this.handleClick.bind(this);\n  } //end constructor\n\n\n  //end componetdidmount\n  async handleClick() {\n    //var res = await this.state.contract.methods.SayHello().call({from: this.state.accounts[0]});\n    //console.log(res)\n    var res2 = await this.state.contract2.methods.balanceOf(this.state.accounts[0]).call({\n      from: this.state.accounts[0]\n    });\n    console.log(res2);\n  }\n\n  render() {\n    if (!this.state.web3) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 14\n        }\n      }, \"Loading Web3, accounts, and contract...\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, \"Hi\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, \"Click here\"));\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 17\n  }\n}), document.getElementById('root'));","map":{"version":3,"sources":["/Users/vivi/Documents/1082/simple_web3test/src/index.js"],"names":["React","ReactDOM","Web3","TodoListContract","SproutContract","App","Component","constructor","props","componentDidMount","web3","givenProvider","accounts","eth","getAccounts","networkId","net","getId","deployNetwork","networks","instance","Contract","abi","address","deployNetwork2","instance2","setState","contract","error","alert","console","state","contract2","handleClick","bind","res2","methods","balanceOf","call","from","log","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Web3 from 'web3';\nimport TodoListContract from './build/contracts/TodoList.json';\nimport SproutContract from './build/contracts/Sprout.json';\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      web3: null,\n      accounts: null,\n      contract: null,\n      contract2: null\n    }\n    this.handleClick = this.handleClick.bind(this);\n  }//end constructor\n  componentDidMount = async() =>  {\n    try {\n      const web3 = new Web3(Web3.givenProvider || 'ws://localhost:8545');\n      const accounts = await web3.eth.getAccounts();\n      const networkId = await web3.eth.net.getId();\n\n      const deployNetwork = TodoListContract.networks[networkId];\n      const instance = new web3.eth.Contract(\n        TodoListContract.abi,\n        deployNetwork.address\n      )\n\n      const deployNetwork2 = SproutContract.networks[networkId];\n      const instance2 = new web3.eth.Contract(\n        SproutContract.abi,\n        deployNetwork2.address\n      )\n      this.setState({\n        web3: web3,\n        accounts: accounts,\n        contract: instance,\n        contract: instance2\n      });\n    } catch (error) {\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`,\n      );\n      console.error(error);\n    }\n  };//end componetdidmount\n  async handleClick(){\n    //var res = await this.state.contract.methods.SayHello().call({from: this.state.accounts[0]});\n    //console.log(res)\n    var res2 = await this.state.contract2.methods.balanceOf(this.state.accounts[0]).call({from: this.state.accounts[0]});\n    console.log(res2)\n  }\n  render() {\n    if (!this.state.web3) {\n      return <div>Loading Web3, accounts, and contract...</div>;\n    }\n    return(\n      <div>\n        <div>Hi</div>\n        <button onClick={this.handleClick}>Click here</button>\n      </div>\n    )\n  }\n} \n\nReactDOM.render(<App/>, document.getElementById('root'));\n"]},"metadata":{},"sourceType":"module"}